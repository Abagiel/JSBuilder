{"version":3,"sources":["src/modules/Site.js","src/modules/utils.js","src/modules/Blocks.js","src/modules/Sidebar.js","src/modules/model.js","src/modules/App.js","src/index.js"],"names":["Site","root","model","clear","render","document","querySelector","init","addEventListener","clickHandler","bind","data","forEach","el","insertAdjacentHTML","toHTML","btnHTML","e","target","dataset","type","editElement","getHTML","id","sidebar","renderForm","console","log","innerHTML","name","dep","toCSS","obj","Object","keys","map","k","join","fromForm","Array","from","elements","tagName","value","files","selectForm","edit","blockS","imgS","createBtn","content","createInput","ph","req","required","simpleForm","tag","textContent","toLowerCase","imgForm","stylesField","getEditData","formType","submitBtn","delBtn","styles","getAttribute","form","inputType","Block","options","Error","SimpleBlock","css","ImgBlock","alt","url","CreateBlock","Date","now","toString","block","Sidebar","update","selectedEl","select","add","remove","editMode","preventDefault","newBlock","addSimpleBlock","addImgBlock","replace","closeEditForm","getImgUrl","result","includes","sb","file","Blob","reader","FileReader","onload","src","readAsDataURL","Model","push","newData","idx","filter","App","site","rerender","registerDep"],"mappings":"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","file":"src.473467a3.js","sourceRoot":"..\\assets","sourcesContent":["export default class Site {\r\n\tconstructor(root, model) {\r\n\t\tthis.root = document.querySelector(root);\r\n\t\tthis.model = model;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.root.addEventListener('click', this.clickHandler.bind(this));\r\n\t}\r\n\r\n\trender() {\r\n\t\tthis.model.data.forEach(el => {\r\n\t\t\tthis.root.insertAdjacentHTML('beforeend', el.toHTML());\r\n\t\t});\r\n\t\tthis.root.insertAdjacentHTML('beforeend', this.btnHTML);\r\n\t}\r\n\r\n\trerender = () => {\r\n\t\tthis.clear();\r\n\t\tthis.render();\r\n\t}\r\n\r\n\tclickHandler(e) {\r\n\t\tif (e.target.dataset.type === \"btn-html\") {\r\n\t\t\tthis.getHTML();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.editElement(e);\r\n\t}\r\n\r\n\teditElement(e) {\r\n\t\tconst el = e.target;\r\n\t\tconst id = el.dataset.id;\r\n\r\n\t\tif (id) {\r\n\t\t\tthis.sidebar.renderForm(true, el);\r\n\t\t}\r\n\t}\r\n\r\n\tgetHTML() {\r\n\t\tconsole.log(this.root.innerHTML);\r\n\t}\r\n\r\n\tget btnHTML() {\r\n\t\treturn '<button data-type=\"btn-html\">Get HTML</button>';\r\n\t}\r\n\r\n\tregisterDep(name, dep) {\r\n\t\tthis[name] = dep;\r\n\t}\t\r\n\r\n\tclear() {\r\n\t\tthis.root.innerHTML = '';\r\n\t}\r\n}","export function toCSS(obj = {}) {\r\n\tif (typeof obj === 'string') return obj;\r\n\r\n\treturn Object\r\n\t\t.keys(obj)\r\n\t\t.map(k => `${k}: ${obj[k]}`)\r\n\t\t.join(';')\r\n}\r\n\r\nexport function fromForm(e) {\r\n\tconst data = {};\r\n\r\n\tArray.from(e.target.elements).forEach(el => {\r\n\t\tif (el.dataset.type === 'file') {\r\n\t\t\tdata['file'] = el.files[0];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (el.tagName === 'INPUT' ||\r\n\t\t\t\tel.tagName === 'TEXTAREA') {\r\n\t\t\tdata[el.dataset.type] = el.value;\r\n\t\t}\r\n\t})\r\n\r\n\treturn data;\r\n} \r\n\r\nfunction selectForm(type, edit) {\r\n\tconst blockS = type === 'block' ? 'selected' : '';\r\n\tconst imgS = type === 'img' ? 'selected' : '';\r\n\r\n\treturn !edit \r\n\t\t? `\r\n\t\t<select data-type=\"select\" >\r\n\t\t\t<option value=\"block\" ${blockS} >Block</option>\r\n\t\t\t<option value=\"img\" ${imgS} >Image</option>\r\n\t\t</select>\r\n\t` : '';\r\n}\r\n\r\nfunction createBtn(content, type) {\r\n\treturn `<button data-type=\"${type}\">${content}</button>`\r\n}\r\n\r\nfunction createInput(value, type, dataset, ph, req) {\r\n\tconst required = req ? 'required' : '';\r\n\r\n\treturn `<input \r\n\t\tvalue=\"${value}\" \r\n\t\ttype=\"${type}\"\r\n\t\tdata-type=\"${dataset}\" \r\n\t\tplaceholder=\"${ph}\"\r\n\t\t${required} />`\r\n}\r\n\r\nfunction simpleForm(el) {\r\n\tlet value = '', tag = '';\r\n\r\n\tif (el) {\r\n\t\tvalue = el.textContent;\r\n\t\ttag = el.tagName.toLowerCase();\r\n\t}\r\n\r\n\treturn `\r\n\t\t${createInput(tag, 'text', 'tag', 'tag', true)}\r\n\t\t${createInput(value, 'text', 'content', 'content', true)}\r\n\t`\r\n}\r\n\r\nfunction imgForm(edit) {\r\n\treturn createInput('', 'file', 'file', '', !edit)\r\n}\r\n\r\nfunction stylesField(value) {\r\n\treturn `<textarea data-type=\"styles\" placeholder=\"styles\">${value}</textarea>`\r\n}\r\n\r\nfunction getEditData(edit, el) {\r\n\tlet formType = 'form-add';\r\n\tlet submitBtn = createBtn('Add', 'btn');\r\n\tlet delBtn = '';\r\n\tlet styles = '';\r\n\r\n\tif (edit) {\r\n\t\tstyles = el.getAttribute('style');\r\n\t\tformType = 'form-change';\r\n\t\tsubmitBtn = createBtn('Change', 'btn');\r\n\t\tdelBtn = createBtn('Delete', 'btn-del');\r\n\t}\r\n\r\n\treturn { formType, submitBtn, delBtn, styles }\r\n}\r\n\r\nexport function form(type, edit = false, el) {\r\n\tconst inputType = type === 'img' ? imgForm(edit) : simpleForm(el);\r\n\tconst data = getEditData(edit, el);\r\n\r\n\treturn `\r\n\t\t${selectForm(type, edit)}\r\n\r\n\t\t<form data-type=\"${data.formType}\" >\r\n\t\t\t${inputType}\r\n\t\t\t${stylesField(data.styles)}\r\n\t\t\t${data.submitBtn}\r\n\t\t</form>\r\n\r\n\t\t${data.delBtn}\r\n\t`\r\n}\r\n","import { toCSS } from './utils.js';\r\n\r\nclass Block {\r\n\tconstructor(options) {\r\n\t\tthis.options = options;\r\n\t}\r\n\r\n\ttoHTML() {\r\n\t  throw new Error('ERROR!')\r\n\t}\r\n}\r\n\r\nclass SimpleBlock extends Block {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t}\r\n\r\n\ttoHTML() {\r\n\t\tconst { content = '', styles, id, tag } = this.options;\r\n\t\tconst css = toCSS(styles);\r\n\r\n\t\treturn `<${tag} \r\n\t\t\tdata-id=\"${id}\" \r\n\t\t\tstyle=\"${css}\">${content}</${tag}>`\r\n\t}\r\n}\r\n\r\nclass ImgBlock extends Block {\r\n\tconstructor(options) {\r\n\t\tsuper({...options, tag: 'img'});\r\n\t}\r\n\r\n\ttoHTML() {\r\n\t\tconst { styles, alt = '', id, url } = this.options;\r\n\t\tconst css = toCSS(styles);\r\n\r\n\t\treturn `\r\n\t\t\t<img \r\n\t\t\t\tdata-id=\"${id}\" \r\n\t\t\t\tsrc=\"${url}\"\r\n\t\t\t\talt=\"${alt}\" \r\n\t\t\t\tstyle=\"${css}\">`\r\n\t}\r\n}\r\n\r\nexport class CreateBlock {\r\n\tconstructor(type, options) {\r\n\t\tthis.options = { ...options, id: Date.now().toString() }\r\n\t\tthis.block = type === 'block'\r\n\t\t\t? new SimpleBlock(this.options)\r\n\t\t\t: new ImgBlock(this.options);\r\n\t}\r\n\r\n\ttoHTML() {\r\n\t\treturn this.block.toHTML();\r\n\t}\r\n\t\r\n}","import { CreateBlock } from './Blocks.js';\r\nimport { form, fromForm } from './utils.js';\r\n\r\nexport default class Sidebar {\r\n\tconstructor(root, update, model) {\r\n\t\tthis.root = document.querySelector(root);\r\n\t\tthis.update = update;\r\n\t\tthis.model = model;\r\n\r\n\t\tthis.type = 'block';\r\n\t\tthis.selectedEl = null;\r\n\t\tthis.edit = false;\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.root.addEventListener('change', this.select.bind(this));\r\n\t\tthis.root.addEventListener('submit', this.add.bind(this));\r\n\t\tthis.root.addEventListener('click', this.remove.bind(this));\r\n\r\n\t\tthis.renderForm();\r\n\t}\r\n\r\n\trenderForm(edit = false, el = null) {\r\n\t\tthis.editMode(edit, el);\r\n\r\n\t\tthis.root.innerHTML = '';\r\n\t\tthis.root.insertAdjacentHTML('beforeend', form(this.type, edit, this.selectedEl));\r\n\t}\r\n\r\n\teditMode(edit, el) {\r\n\t\tif (el) {\r\n\t\t\tthis.type = el.tagName === 'IMG' ? 'img' : 'block';\r\n\t\t\tthis.selectedEl = el;\r\n\t\t\tthis.edit = edit;\r\n\t\t}\r\n\t}\r\n\r\n\tselect(e) {\r\n\t\tif (e.target.dataset.type === 'select') {\r\n\t\t\tthis.type = e.target.value;\r\n\t\t\tthis.renderForm();\r\n\t\t}\r\n\t}\r\n\r\n\tadd(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst data = fromForm(e);\r\n\t\tconst formType = e.target.dataset.type;\r\n\t\tconst newBlock = addSimpleBlock(data, this.type);\r\n \r\n\t\tif (this.type === 'img') {\r\n\t\t\taddImgBlock(data, this);\r\n\t\t} else if (formType === 'form-change') {\r\n\t\t\tthis.model.replace(newBlock, this.selectedEl.dataset.id);\r\n\t\t\tthis.closeEditForm();\r\n\t\t\tthis.update();\r\n\t\t} else {\r\n\t\t\tthis.model.add(newBlock);\r\n\t\t\tthis.update();\r\n\t\t\tthis.renderForm();\r\n\t\t}\r\n\t}\r\n\r\n\tremove(e) {\r\n\t\tif (e.target.dataset.type === 'btn-del') {\r\n\t\t\tthis.model.remove(this.selectedEl.dataset.id);\r\n\t\t\tthis.selectedEl.remove();\r\n\t\t\tthis.closeEditForm();\r\n\t\t\tthis.update();\r\n\t\t}\r\n\t}\r\n\r\n\tcloseEditForm() {\r\n\t\tthis.selectedEl = null;\r\n\t\tthis.edit = false;\r\n\t\tthis.renderForm();\r\n\t}\r\n}\r\n\r\nfunction getImgUrl(e) {\r\n\treturn e.target.result.includes('data:image') ? true : false;\r\n}\r\n\r\nfunction addSimpleBlock(options, type) {\r\n\treturn new CreateBlock(type, options);\r\n}\r\n\r\nfunction addImgBlock(options, sb) {\r\n\tconst file = options.file || new Blob();\r\n\tconst reader = new FileReader();\r\n\r\n\treader.onload = (e) => {\r\n\t\tdelete options.file;\r\n\t\toptions['url'] = getImgUrl(e) ? e.target.result : sb.selectedEl.src;\r\n\r\n\t\tconst newBlock = new CreateBlock('img', options);\r\n\r\n\t\tif (!sb.edit) {\r\n\t\t\tsb.model.add(newBlock);\r\n\t\t\tsb.renderForm();\r\n\t\t} else {\r\n\t\t\tsb.model.replace(newBlock, sb.selectedEl.dataset.id);\r\n\t\t\tsb.closeEditForm();\r\n\t\t}\r\n\r\n\t\tsb.update();\r\n\t}\r\n\r\n\treader.readAsDataURL(file);\r\n}","import { CreateBlock } from './Blocks.js';\r\n\r\nexport class Model {\r\n\tconstructor() {\r\n\t\tthis.data = [];\r\n\t}\r\n\r\n\tadd(data) {\r\n\t\tthis.data.push(data);\r\n\t}\r\n\r\n\treplace(newData, idx) {\r\n\t\tthis.data = this.data\r\n\t\t\t.map((el) => el.block.options.id === idx ? newData : el);\r\n\t}\r\n\r\n\tremove(idx) {\r\n\t\tthis.data = this.data\r\n\t\t\t.filter(({block}) => block.options.id !== idx);\r\n\t}\r\n}","import Site from './Site.js';\r\nimport Sidebar from './Sidebar.js';\r\n\r\nimport { Model } from './model.js';\r\n\r\nexport default class App {\r\n\tconstructor() {\r\n\t\tthis.model = new Model();\r\n\t\tthis.site = new Site('#site', this.model);\r\n\t\tthis.sidebar = new Sidebar('#sidebar', this.site.rerender, this.model);\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.site.render();\r\n\t\tthis.site.registerDep('sidebar', this.sidebar);\r\n\t\tthis.sidebar.init();\r\n\t}\r\n}","import App from './modules/App.js';\r\nimport '../styles/main.css';\r\n\r\nnew App().init();"]}