parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"DSlP":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function t(n,i){var o=this;e(this,t),r(this,"rerender",function(){o.clear(),o.render()}),this.root=document.querySelector(n),this.model=i,this.init()}return n(t,[{key:"init",value:function(){this.root.addEventListener("click",this.clickHandler.bind(this))}},{key:"render",value:function(){var e=this;this.model.data.forEach(function(t){e.root.insertAdjacentHTML("beforeend",t.toHTML())}),this.root.insertAdjacentHTML("beforeend",this.btnHTML)}},{key:"clickHandler",value:function(e){"btn-html"!==e.target.dataset.type?this.editElement(e):this.getHTML()}},{key:"editElement",value:function(e){var t=e.target;t.dataset.id&&this.sidebar.renderForm(!0,t)}},{key:"getHTML",value:function(){console.log(this.root.innerHTML)}},{key:"registerDep",value:function(e,t){this[e]=t}},{key:"clear",value:function(){this.root.innerHTML=""}},{key:"btnHTML",get:function(){return'<button data-type="btn-html">Get HTML</button>'}}]),t}();exports.default=i;
},{}],"HGKq":[function(require,module,exports) {
"use strict";function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"string"==typeof t?t:Object.keys(t).map(function(n){return"".concat(n,": ").concat(t[n])}).join(";")}function n(t){var n={};return Array.from(t.target.elements).forEach(function(t){"file"!==t.dataset.type?"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||(n[t.dataset.type]=t.value):n.file=t.files[0]}),n}function e(t,n){var e="img"===t?"selected":"";return n?"":'\n\t\t<select data-type="select" >\n\t\t\t<option value="block" '.concat("block"===t?"selected":"",' >Block</option>\n\t\t\t<option value="img" ').concat(e," >Image</option>\n\t\t</select>\n\t")}function o(t,n){return'<button data-type="'.concat(n,'">').concat(t,"</button>")}function a(t,n,e,o,a){var c=a?"required":"";return'<input \n\t\tvalue="'.concat(t,'" \n\t\ttype="').concat(n,'"\n\t\tdata-type="').concat(e,'" \n\t\tplaceholder="').concat(o,'"\n\t\t').concat(c," />")}function c(t){var n="",e="";return t&&(n=t.textContent,e=t.tagName.toLowerCase()),"\n\t\t".concat(a(e,"text","tag","tag",!0),"\n\t\t").concat(a(n,"text","content","content",!0),"\n\t")}function r(t){return a("","file","file","",!t)}function u(t){return'<textarea data-type="styles" placeholder="styles">'.concat(t,"</textarea>")}function i(t,n){var e="form-add",a=o("Add","btn"),c="",r="";return t&&(r=n.getAttribute("style"),e="form-change",a=o("Change","btn"),c=o("Delete","btn-del")),{formType:e,submitBtn:a,delBtn:c,styles:r}}function l(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0,a="img"===t?r(n):c(o),l=i(n,o);return"\n\t\t".concat(e(t,n),'\n\n\t\t<form data-type="').concat(l.formType,'" >\n\t\t\t').concat(a,"\n\t\t\t").concat(u(l.styles),"\n\t\t\t").concat(l.submitBtn,"\n\t\t</form>\n\n\t\t").concat(l.delBtn,"\n\t")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toCSS=t,exports.fromForm=n,exports.form=l;
},{}],"jXs0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateBlock=void 0;var t=require("./utils.js");function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(e){r(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=s();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}var h=function(){function t(e){p(this,t),this.options=e}return b(t,[{key:"toHTML",value:function(){throw new Error("ERROR!")}}]),t}(),O=function(e){c(r,h);var n=u(r);function r(t){return p(this,r),n.call(this,t)}return b(r,[{key:"toHTML",value:function(){var e=this.options,n=e.content,r=void 0===n?"":n,o=e.styles,c=e.id,i=e.tag,u=(0,t.toCSS)(o);return"<".concat(i,' \n\t\t\tdata-id="').concat(c,'" \n\t\t\tstyle="').concat(u,'">').concat(r,"</").concat(i,">")}}]),r}(),v=function(e){c(o,h);var r=u(o);function o(t){return p(this,o),r.call(this,n(n({},t),{},{tag:"img"}))}return b(o,[{key:"toHTML",value:function(){var e=this.options,n=e.styles,r=e.alt,o=void 0===r?"":r,c=e.id,i=e.url,u=(0,t.toCSS)(n);return'\n\t\t\t<img \n\t\t\t\tdata-id="'.concat(c,'" \n\t\t\t\tsrc="').concat(i,'"\n\t\t\t\talt="').concat(o,'" \n\t\t\t\tstyle="').concat(u,'">')}}]),o}(),d=function(){function t(e,r){p(this,t),this.options=n(n({},r),{},{id:Date.now().toString()}),this.block="block"===e?new O(this.options):new v(this.options)}return b(t,[{key:"toHTML",value:function(){return this.block.toHTML()}}]),t}();exports.CreateBlock=d;
},{"./utils.js":"HGKq"}],"R4kv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./Blocks.js"),t=require("./utils.js");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}var n=function(){function e(t,r,s){i(this,e),this.root=document.querySelector(t),this.update=r,this.model=s,this.type="block",this.selectedEl=null,this.edit=!1}return s(e,[{key:"init",value:function(){this.root.addEventListener("change",this.select.bind(this)),this.root.addEventListener("submit",this.add.bind(this)),this.root.addEventListener("click",this.remove.bind(this)),this.renderForm()}},{key:"renderForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.editMode(e,i),this.root.innerHTML="",this.root.insertAdjacentHTML("beforeend",(0,t.form)(this.type,e,this.selectedEl))}},{key:"editMode",value:function(e,t){t&&(this.type="IMG"===t.tagName?"img":"block",this.selectedEl=t,this.edit=e)}},{key:"select",value:function(e){"select"===e.target.dataset.type&&(this.type=e.target.value,this.renderForm())}},{key:"add",value:function(e){e.preventDefault();var i=(0,t.fromForm)(e),r=e.target.dataset.type,s=d(i,this.type);"img"===this.type?l(i,this):"form-change"===r?(this.model.replace(s,this.selectedEl.dataset.id),this.closeEditForm(),this.update()):(this.model.add(s),this.update(),this.renderForm())}},{key:"remove",value:function(e){"btn-del"===e.target.dataset.type&&(this.model.remove(this.selectedEl.dataset.id),this.selectedEl.remove(),this.closeEditForm(),this.update())}},{key:"closeEditForm",value:function(){this.selectedEl=null,this.edit=!1,this.renderForm()}}]),e}();function o(e){return!!e.target.result.includes("data:image")}function d(t,i){return new e.CreateBlock(i,t)}function l(t,i){var r=t.file||new Blob,s=new FileReader;s.onload=function(r){delete t.file,t.url=o(r)?r.target.result:i.selectedEl.src;var s=new e.CreateBlock("img",t);i.edit?(i.model.replace(s,i.selectedEl.dataset.id),i.closeEditForm()):(i.model.add(s),i.renderForm()),i.update()},s.readAsDataURL(r)}exports.default=n;
},{"./Blocks.js":"jXs0","./utils.js":"HGKq"}],"M1sQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Model=void 0;var e=require("./Blocks.js");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}var a=function(){function e(){t(this,e),this.data=[]}return o(e,[{key:"add",value:function(e){this.data.push(e)}},{key:"replace",value:function(e,t){this.data=this.data.map(function(n){return n.block.options.id===t?e:n})}},{key:"remove",value:function(e){this.data=this.data.filter(function(t){return t.block.options.id!==e})}}]),e}();exports.Model=a;
},{"./Blocks.js":"jXs0"}],"cOGH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Site.js")),t=r(require("./Sidebar.js")),i=require("./model.js");function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}var o=function(){function r(){n(this,r),this.model=new i.Model,this.site=new e.default("#site",this.model),this.sidebar=new t.default("#sidebar",this.site.rerender,this.model)}return a(r,[{key:"init",value:function(){this.site.render(),this.site.registerDep("sidebar",this.sidebar),this.sidebar.init()}}]),r}();exports.default=o;
},{"./Site.js":"DSlP","./Sidebar.js":"R4kv","./model.js":"M1sQ"}],"jExt":[function(require,module,exports) {

},{}],"H99C":[function(require,module,exports) {
"use strict";var e=s(require("./modules/App.js"));function s(e){return e&&e.__esModule?e:{default:e}}require("../styles/main.css"),(new e.default).init();
},{"./modules/App.js":"cOGH","../styles/main.css":"jExt"}]},{},["H99C"], null)
//# sourceMappingURL=src/src.473467a3.js.map